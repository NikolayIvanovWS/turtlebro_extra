# Пакет робота экскурсовода turtlebro_excursion для робота TurtleBro

Пакет предназначен для работы робота Turtlebro с комплектом расширения для сборки полезной нагрузки "Робот-"Экскурсовод".

С этим пакетом возможна работа робота в двух режимах:
1. Робот озвучивает текст привязанный к точкам патрулирования;
2. Робот озвучивает текст привязанный к точкам патрулирования, а также в случае нахождения в этих точках Aruco-маркеров, озвучиваение текста привязанного к ID-маркера.

## Установка пакета

Пакет входит в сборку метапакета `turtlebro_extra` и устанавливается автоматически при установке этого пакета. Для установки метапакета на роботе выполните команды:

```
cd ~/catkin_ws/src
git clone https://github.com/voltbro/turtlebro_extra
cd ../
catkin_make
```

### Настройка пакета

Для настроек точек патрулирования и фраз при распозновании Aruco-маркеров используются следующие файлы:

1. Файл с описанием точек патрулирования ```data/goals.toml```, также в файл дополнен фразами для озвучивания в точках патрулирования.

2. Файл с описанием Aruco-маркеров ```data/aruco_text.toml```

### Запуск пакета

Запуск ноды патрулирования и режима, в которой робот озвучивает по координатам точки патрулирования:
```
roslaunch turtlebro_excursions excursion.launch
```
Запуск ноды патрулирования и режима, в которой робот считывает и озвучивает Aruco-маркеры:
```
roslaunch turtlebro_excursions excursion_aruco.launch
```

Для отладки, возможно запускать пакет в режиме эмуляции патрулирования:
```
roslaunch turtlebro_excursions excursion.launch fake_move_base:=true
```

### Запуск экскурсовода

Пакет наследует функции патрулирования ```turtlebro_patrol```. Для начала движения робота необходимо вызвать сервис ```/patrol_control```:

```
rosservice call /patrol_control "command: 'start'"
```
