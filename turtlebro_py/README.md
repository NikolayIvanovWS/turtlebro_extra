# Пакет предназначен для работы с роботом Turtlebro напрямую из Python

## Установка пакета

Пакет входит в сборку метапакета `turtlebro_extra` и устанавливается автоматически при установке этого пакета. Для установки метапакета на роботе выполните команды:

```
cd ~/catkin_ws/src
git clone https://github.com/voltbro/turtlebro_extra
cd ../
catkin_make --pkg=turtlebro_extra
```

### Использование библиотеки команд

Для работы с роботом импортируйте библиотеку Turtlebro в Python, при помощи команды
``` 
import turtlebro_py as tb
```

Для движения робота вперед используйте команду `move`, указав в качестве аргумента количество метров на которое вы хотите переместить робота:

```
tb.move(0.7)  #робот проедет вперед 0.7 метра
```
Опционально,вторым аргументом вы можете указать скорость в м/с с которой должен двигаться робот:
```
tb.move(0.5, 0.1)  #робот проедет вперед 0.5 метра со скоростью 0.1 м/с
```

Для поворота робота используйте команду `turn`, указав в качестве аргумента количество градусов на которое вы хотите повернуть робота
(Положительное число градусов повернет робота против часовой стрелки т.е. налево, отрицательное число градусов повернет робота по часовой стрелке, т.е. направо.):

```
tb.turn(90)  #робот повернется против часовой стрелки на 90 градусов
```
Опционально,вторым аргументом вы можете указать скорость в градусах/с с которой должен поворачиваться робот:
```
tb.turn(-45, 20)  #робот повернется по часовой стрелки на 90 градусов со скоростью 20 градусов/с
```

Для включения светодиодов на роботе используйте команду `color`, указав в качестве аргумента цвет светодиодов (red, green, yellow, blue, white):

```
tb.color("green")  #робот зажжет зеленые светодиоды
tb.color("red")  #робот зажжет красные светодиоды
tb.color("off")  #робот выключит светодиоды
```

Для определения расстояния до препятствия используйте команду `distance`, аргументом команды, вы можете указать градус по которому вы хотите получить расстояние до препятствия:
```
dist = tb.distance(0) #Расстояние до препятствия "по носу" робота.
```
Опционально, вы можете не указывать никаких аргументов для команды, тогда она вернет массив из 360 точек (по одной на градус) расстояний до препятствий вокруг робота.

```
ranges = []
ranges = tb.distance()
```

Для определения получения изображения с камеры робота используйте команду `photo`:
```
tb.photo() #Робот сохранит изображение в файл /home/pi/robophoto.jpg.
```
Опционально, вы можете указать название файла в который надо сохранить изображение.

```
tb.photo("myphoto")
```


Пример кода для езды по квадрату длиной 20 см, со скоростью 0.1 м/с и смены цвета диодов на каждой стороне квадрата:

```
import turtlebro_py as tb

tb.color("green")
tb.move(0.2, 0.1)
tb.turn(90)

tb.color("red")
tb.move(0.2, 0.1)
tb.turn(90)

tb.color("yellow")
tb.move(0.2, 0.1)
tb.turn(90)

tb.color("blue")
tb.move(0.2, 0.1)
tb.turn(90)
```
