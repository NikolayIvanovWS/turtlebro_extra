# Пакет turtlebro_excursion

Демонстрационный пакет для робота экскурсовода.

Возможна работа в двух режимах, в первом робот озвучивает текст привязанный к точкам патрулирования. Во втором, происходит дополнительное чтение Arcuco маркеров.

## Установка пакета

Пакет входит в сборку метапакета `turtlebro_extra` и устанавливается автоматически при установке этого пакета. Для установки метапакета на роботе выполните команды:

```
cd ~/catkin_ws/src
git clone https://github.com/voltbro/turtlebro_extra
cd ../
catkin_make --pkg=turtlebro_extra
```

### Настройка пакета

Файл с описанием точек патрулирования ```data/goals.toml```, также в файл дополнен фразами для озвучивания в точках патрулирования.

Файл с описанием Aruco меток ```data/aruco_text.toml```

### Запуск пакета

Запуск ноды патрулирования и режима в которой робот озвучивает по координатам точки патрулирования
```
roslaunch turtlebro_excursions excursion.launch
```
Запуск ноды патрулирования и режима в которой робот считывает и озвучивает aruco маркеры
```
roslaunch turtlebro_excursions excursion_aruco.launch
```

Для отладки, возможно запускать пакет в режиме эмуляции патрулирования
```
roslaunch turtlebro_excursions excursion.launch fake_move_base:=true
```

### Запуск экскурсовода

Пакет наследует функции патрулирования ```turtlebro_patrol```. Для начала движения робота необходимо вызвать сервис ```/patrol_control```

```
rosservice call /patrol_control "command: 'start'"
```
